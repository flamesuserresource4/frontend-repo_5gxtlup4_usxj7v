@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-geist: 'Geist', system-ui, sans-serif;
    --font-geist-mono: 'Geist Mono', monospace;
    --font-mona: 'Mona Sans', system-ui, sans-serif;
    --font-ibm-plex: 'IBM Plex Sans', system-ui, sans-serif;
    --font-manrope: 'Manrope', system-ui, sans-serif;

    /* Retro palette tokens */
    --cream: #F8F1E7;
    --mustard: #E2B036;
    --orange: #D16A1A;
    --brown: #4A311D;
    --avocado: #7BA16F;
    --dark: #191715;
  }

  html {
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
    background: var(--cream);
  }

  body { @apply antialiased; }
}

/* Animated hero background: aurora blobs + subtle scanlines + grain */
@layer components {
  .hero-aurora {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    mix-blend: normal;
  }
  .hero-aurora .blob {
    position: absolute;
    width: 60vmax;
    height: 60vmax;
    filter: blur(60px);
    opacity: 0.35;
    border-radius: 9999px;
    will-change: transform;
    animation: blobFloat 22s ease-in-out infinite alternate;
  }
  .hero-aurora .blob.blob-1 { background: radial-gradient(circle at 30% 30%, var(--orange), transparent 60%); left: -20vmax; top: -10vmax; animation-delay: -4s; }
  .hero-aurora .blob.blob-2 { background: radial-gradient(circle at 70% 40%, var(--mustard), transparent 60%); right: -25vmax; top: -5vmax; animation-delay: -10s; }
  .hero-aurora .blob.blob-3 { background: radial-gradient(circle at 40% 70%, var(--avocado), transparent 60%); left: -10vmax; bottom: -20vmax; animation-delay: -14s; }

  .hero-scanlines {
    position: absolute; inset: 0; pointer-events: none; opacity: 0.08; mix-blend-mode: multiply;
    background-image: linear-gradient(to bottom, rgba(0,0,0,0.8) 0.5px, transparent 1px);
    background-size: 100% 3px;
    animation: scanScroll 8s linear infinite;
  }

  .hero-vignette { position: absolute; inset: 0; pointer-events: none; background: radial-gradient(120% 60% at 50% 40%, transparent 30%, rgba(25,23,21,0.35) 70%, rgba(25,23,21,0.65) 100%); }

  .hero-grain { position: absolute; inset: 0; pointer-events: none; opacity: 0.14; mix-blend-mode: multiply; background-image: url(https://grainy-gradients.vercel.app/noise.svg); }

  /* Sweep highlight across hero */
  .hero-sweep { position: absolute; inset: 0; pointer-events: none; background: linear-gradient(100deg, rgba(255,255,255,0) 30%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0) 70%); filter: blur(6px); opacity: 0.35; animation: heroSweep 9s ease-in-out infinite; }

  /* Glass and lift utilities */
  .glass-card { 
    background: linear-gradient( to bottom, rgba(248,241,231,0.92), rgba(248,241,231,0.86) );
    backdrop-filter: saturate(140%) blur(10px);
    -webkit-backdrop-filter: saturate(140%) blur(10px);
    box-shadow: 0 10px 24px rgba(25,23,21,0.08), 0 2px 6px rgba(25,23,21,0.06);
  }
  .lift-card { transition: transform 200ms ease, box-shadow 200ms ease; will-change: transform; }
  .lift-card:hover { transform: translateY(-2px); box-shadow: 0 14px 28px rgba(25,23,21,0.10), 0 4px 10px rgba(25,23,21,0.08); }
}

@layer utilities {
  .animate-in { animation-name: animateIn; animation-duration: 350ms; --tw-enter-opacity: initial; --tw-enter-scale: initial; --tw-enter-rotate: initial; --tw-enter-translate-x: initial; --tw-enter-translate-y: initial; }
  .animate-out { animation-name: animateOut; animation-duration: 350ms; --tw-exit-opacity: initial; --tw-exit-scale: initial; --tw-exit-rotate: initial; --tw-exit-translate-x: initial; --tw-exit-translate-y: initial; }
}

/* Keyframes */
@keyframes blobFloat {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(6vw, -4vh, 0) scale(1.05); }
  100% { transform: translate3d(-6vw, 4vh, 0) scale(0.98); }
}
@keyframes scanScroll {
  0% { background-position-y: 0; }
  100% { background-position-y: 100%; }
}
@keyframes heroSweep {
  0%, 100% { transform: translateX(-30%); opacity: 0.25; }
  50% { transform: translateX(30%); opacity: 0.4; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .hero-aurora .blob { animation: none; }
  .hero-scanlines { animation: none; }
  .hero-sweep { display: none; }
}
